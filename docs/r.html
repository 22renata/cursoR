<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Curso de R para Meteorologia IAG/USP</title>
  <meta name="description" content="Este é um curso de R para Meteorologia. O curso tenta ser abrangente, desde interessados sem formação, passando por graduação e pós-graduação">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Curso de R para Meteorologia IAG/USP" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este é um curso de R para Meteorologia. O curso tenta ser abrangente, desde interessados sem formação, passando por graduação e pós-graduação" />
  <meta name="github-repo" content="iagdevs/cursoR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Curso de R para Meteorologia IAG/USP" />
  
  <meta name="twitter:description" content="Este é um curso de R para Meteorologia. O curso tenta ser abrangente, desde interessados sem formação, passando por graduação e pós-graduação" />
  

<meta name="author" content="Sergio Ibarra-Espinosa, Amanda Rehbein, Daniel Schuch, Camila Lopes, Isabela Siqueira, e possivelmente outros (você está convidado para colaborar)">


<meta name="date" content="2018-06-04">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="intro.html">
<link rel="next" href="importando-e-exportando-dados.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Curso R DCA/IAG/USP</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Pré-Requisitos</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#sistema-operacional"><i class="fa fa-check"></i><b>1.1</b> Sistema Operacional</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#pacotes-usados-neste-curso"><i class="fa fa-check"></i><b>1.2</b> Pacotes usados neste curso</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#dados-usados-neste-curso"><i class="fa fa-check"></i><b>1.3</b> Dados usados neste curso</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#colaborar"><i class="fa fa-check"></i><b>1.4</b> Colaborar</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#compartilhar-dados"><i class="fa fa-check"></i><b>1.5</b> Compartilhar dados</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Intro</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#importante"><i class="fa fa-check"></i><b>2.1</b> IMPORTANTE</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>3</b> R!</a><ul>
<li class="chapter" data-level="3.1" data-path="r.html"><a href="r.html#variaveis-basicas"><i class="fa fa-check"></i><b>3.1</b> Variáveis Básicas</a></li>
<li class="chapter" data-level="3.2" data-path="r.html"><a href="r.html#vetores"><i class="fa fa-check"></i><b>3.2</b> Vetores</a></li>
<li class="chapter" data-level="3.3" data-path="r.html"><a href="r.html#classe"><i class="fa fa-check"></i><b>3.3</b> Classe</a></li>
<li class="chapter" data-level="3.4" data-path="r.html"><a href="r.html#converter-objetos"><i class="fa fa-check"></i><b>3.4</b> Converter objetos</a><ul>
<li class="chapter" data-level="3.4.1" data-path="r.html"><a href="r.html#as"><i class="fa fa-check"></i><b>3.4.1</b> <code>as</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="r.html"><a href="r.html#convert_df"><i class="fa fa-check"></i><b>3.4.2</b> <code>merge</code> e <code>melt</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="r.html"><a href="r.html#array"><i class="fa fa-check"></i><b>3.5</b> Array</a></li>
<li class="chapter" data-level="3.6" data-path="r.html"><a href="r.html#matrizes-e-a-funcao-matrix"><i class="fa fa-check"></i><b>3.6</b> Matrizes e a função <code>matrix</code></a></li>
<li class="chapter" data-level="3.7" data-path="r.html"><a href="r.html#listas"><i class="fa fa-check"></i><b>3.7</b> Listas</a></li>
<li class="chapter" data-level="3.8" data-path="r.html"><a href="r.html#dataframes"><i class="fa fa-check"></i><b>3.8</b> Data Frames</a></li>
<li class="chapter" data-level="3.9" data-path="r.html"><a href="r.html#tempo-e-data"><i class="fa fa-check"></i><b>3.9</b> Tempo e Data</a></li>
<li class="chapter" data-level="3.10" data-path="r.html"><a href="r.html#fatores"><i class="fa fa-check"></i><b>3.10</b> Fatores</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html"><i class="fa fa-check"></i><b>4</b> Importando e Exportando Dados</a><ul>
<li class="chapter" data-level="4.1" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#base"><i class="fa fa-check"></i><b>4.1</b> Base</a><ul>
<li class="chapter" data-level="4.1.1" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#importando-com-read."><i class="fa fa-check"></i><b>4.1.1</b> Importando com <code>read.*</code></a></li>
<li class="chapter" data-level="4.1.2" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#exportando-com-write.table"><i class="fa fa-check"></i><b>4.1.2</b> Exportando com <code>write.table</code></a></li>
<li class="chapter" data-level="4.1.3" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#exportando-objetos-com-save"><i class="fa fa-check"></i><b>4.1.3</b> Exportando objetos com <code>save</code></a></li>
<li class="chapter" data-level="4.1.4" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#exportando-objetos-com-saverds"><i class="fa fa-check"></i><b>4.1.4</b> Exportando objetos com <code>saveRDS</code></a></li>
<li class="chapter" data-level="4.1.5" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#processing_dfs"><i class="fa fa-check"></i><b>4.1.5</b> Processando nossa data frame</a></li>
<li class="chapter" data-level="4.1.6" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#data.table-e-mais"><i class="fa fa-check"></i><b>4.1.6</b> Data.table e mais</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#tidyverse"><i class="fa fa-check"></i><b>4.2</b> Tidyverse</a><ul>
<li class="chapter" data-level="4.2.1" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#importando-dados"><i class="fa fa-check"></i><b>4.2.1</b> Importando dados</a></li>
<li class="chapter" data-level="4.2.2" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#leitura-processamento"><i class="fa fa-check"></i><b>4.2.2</b> Leitura <code>%&gt;%</code> Processamento</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#outros-tipos-de-dados"><i class="fa fa-check"></i><b>4.3</b> Outros Tipos de Dados</a><ul>
<li class="chapter" data-level="4.3.1" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#netcdf"><i class="fa fa-check"></i><b>4.3.1</b> NetCDF</a></li>
<li class="chapter" data-level="4.3.2" data-path="importando-e-exportando-dados.html"><a href="importando-e-exportando-dados.html#dados-binarios"><i class="fa fa-check"></i><b>4.3.2</b> Dados Binários</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="plotando.html"><a href="plotando.html"><i class="fa fa-check"></i><b>5</b> Plotando</a><ul>
<li class="chapter" data-level="5.1" data-path="plotando.html"><a href="plotando.html#plot-base"><i class="fa fa-check"></i><b>5.1</b> <code>plot</code> (base)</a></li>
<li class="chapter" data-level="5.2" data-path="plotando.html"><a href="plotando.html#ggplot-ggplot2"><i class="fa fa-check"></i><b>5.2</b> <code>ggplot</code> (ggplot2)</a><ul>
<li class="chapter" data-level="5.2.1" data-path="plotando.html"><a href="plotando.html#explorando-outras-escalas-de-cores-e-temas"><i class="fa fa-check"></i><b>5.2.1</b> Explorando outras escalas de cores e temas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="loop.html"><a href="loop.html"><i class="fa fa-check"></i><b>6</b> Estruturas de Controle</a><ul>
<li class="chapter" data-level="6.1" data-path="loop.html"><a href="loop.html#if-else"><i class="fa fa-check"></i><b>6.1</b> if-else</a></li>
<li class="chapter" data-level="6.2" data-path="loop.html"><a href="loop.html#for"><i class="fa fa-check"></i><b>6.2</b> for</a></li>
<li class="chapter" data-level="6.3" data-path="loop.html"><a href="loop.html#while"><i class="fa fa-check"></i><b>6.3</b> while</a></li>
<li class="chapter" data-level="6.4" data-path="loop.html"><a href="loop.html#repeat"><i class="fa fa-check"></i><b>6.4</b> repeat</a></li>
<li class="chapter" data-level="6.5" data-path="loop.html"><a href="loop.html#lapply"><i class="fa fa-check"></i><b>6.5</b> lapply</a></li>
<li class="chapter" data-level="6.6" data-path="loop.html"><a href="loop.html#sapply"><i class="fa fa-check"></i><b>6.6</b> sapply</a></li>
<li class="chapter" data-level="6.7" data-path="loop.html"><a href="loop.html#split"><i class="fa fa-check"></i><b>6.7</b> split</a></li>
<li class="chapter" data-level="6.8" data-path="loop.html"><a href="loop.html#tapply"><i class="fa fa-check"></i><b>6.8</b> tapply</a></li>
<li class="chapter" data-level="6.9" data-path="loop.html"><a href="loop.html#apply"><i class="fa fa-check"></i><b>6.9</b> apply</a></li>
<li class="chapter" data-level="6.10" data-path="loop.html"><a href="loop.html#mapply"><i class="fa fa-check"></i><b>6.10</b> mapply</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fx.html"><a href="fx.html"><i class="fa fa-check"></i><b>7</b> De Scripts a Funções e de Funções a Pacotes</a></li>
<li class="chapter" data-level="8" data-path="geo.html"><a href="geo.html"><i class="fa fa-check"></i><b>8</b> Geo Spatial: <code>raster</code>, <code>sf</code> e <code>stars</code></a></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referências</a></li>
<li class="divider"></li>
<li><a href="https://iagdevs.github.io/cursoR" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Curso de R para Meteorologia IAG/USP</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r" class="section level1">
<h1><span class="header-section-number">Capítulo 3</span> R!</h1>
<p>A linguagem R pode ser usada desde uma simples calculadora até uma poderosa ferramenta estatística, seja para análise de dados, seja para machine learning.</p>
<p>Nesse capítulo veremos o básico da linguagem. Como a ideia é cobrir o máximo de conteúdo possível, passaremos bem rápido pelos conceitos básicos, com alguns exercícios para melhor entendimento.</p>
<div id="variaveis-basicas" class="section level2">
<h2><span class="header-section-number">3.1</span> Variáveis Básicas</h2>
<p>Podemos armazenar valores, strings ou operadores lógicos nas chamadas variáveis básicas. É com elas que podemos fazer operações básicas e transformar o RStudio em uma calculadora superpoderosa. Existem 5 tipos de variáveis básicas, sendo elas:</p>
<ul>
<li>Numeric (1): valores numéricos com ou sem casa decimal</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">5</span><span class="op">+</span><span class="fl">2.3</span></code></pre></div>
<pre><code>## [1] 7.3</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pi</code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<ul>
<li><em>Character</em> (a): com eles podemos armazenar strings, como o título de um gráfico</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">titulo &lt;-<span class="st"> &quot;Isso é uma string&quot;</span>
titulo</code></pre></div>
<pre><code>## [1] &quot;Isso é uma string&quot;</code></pre>
<ul>
<li><p><em>Integer</em> (1): são valores inteiros</p></li>
<li><p><em>Complex</em> (0+1i): também é possível armazenar valores complexos nas variáveis básicas</p></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">3</span> <span class="op">+</span><span class="st"> </span>4i</code></pre></div>
<pre><code>## [1] 3+4i</code></pre>
<ul>
<li><em>Logical</em> (TRUE): são os famosos operadores Booleanos, que permitem realizar comparações entre variáveis ou dados (<strong>Você não pode criar uma variável com os nomes TRUE ou FALSE, esses nomes são reservados pelo R</strong>)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span> <span class="op">==</span><span class="st"> </span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="vetores" class="section level2">
<h2><span class="header-section-number">3.2</span> Vetores</h2>
<p>Vetores permitem que você armazene dados em uma sequência 1D de qualquer um dos tipos listados nas variáveis básicas, mais o formato “cru” (raw) que é o modo de armazenamento de bytes. Por exemplo:</p>
<ul>
<li>c(“A”, “C”, “D”)</li>
<li>1:5 = c(1, 2, 3, 4, 5)</li>
<li>c(TRUE, FALSE)</li>
<li>c(1i, -1i)</li>
</ul>
<p><strong>Importante: ao contrário do C ou do Python, na linguagem R, a contagem das posições dos vetores começa do 1 e NÃO do zero!</strong></p>
</div>
<div id="classe" class="section level2">
<h2><span class="header-section-number">3.3</span> Classe</h2>
<p>Como foi possível notar, todas as variáveis pertencem a alguma classe, dessa forma, a função <code>class</code> permite descobrir qual a classe da variável que se está utilizando:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>)
<span class="kw">class</span>(x)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<hr />
<p><span style="color:red"><strong>Exercício</strong>: Qual a classe dos seguintes vetores?</span></p>
<p><code>c(1, “C”, “D”)</code><br />
<code>c(1, NA, “D”)</code><br />
<code>c(1, NA, NaN)</code></p>
<hr />
</div>
<div id="converter-objetos" class="section level2">
<h2><span class="header-section-number">3.4</span> Converter objetos</h2>
<p>Às vezes quando trabalhamos com dados, podemos precisar “arredondar” valores ou converter vetores em listas, para isso existem algumas funções especiais.</p>
<div id="as" class="section level3">
<h3><span class="header-section-number">3.4.1</span> <code>as</code></h3>
<p>Um modo de forçar um objeto a assumir outra classe é por meio da função <code>as</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.integer</span>(<span class="kw">c</span>(<span class="fl">1.5</span>, <span class="fl">2.9</span>, <span class="dv">1</span>))</code></pre></div>
<pre><code>## [1] 1 2 1</code></pre>
<p>Note que a função apenas converte os números de decimais para inteiros, sem arredondar para o número mais próximo.</p>
<hr />
<p><span style="color:blue"><strong>Pergunta</strong>: O que acontece quando se tenta converter o seguinte vetor?</span></p>
<p><code>as.numeric(c(1, &quot;C&quot;, &quot;D&quot;))</code></p>
<hr />
</div>
<div id="convert_df" class="section level3">
<h3><span class="header-section-number">3.4.2</span> <code>merge</code> e <code>melt</code></h3>
<p>Nem sempre os conjuntos de dados que você encontrar pela vida estarão no formato desejado para plotar e/ou analisar estatisticamente, dessa forma, essas duas funções poderão ajudar na sua jornada:</p>
<ul>
<li><code>merge</code>: permite a união entre dois <a href="r.html#dataframes">data frames</a>, seja por colunas em comum ou linhas em comum</li>
<li><code>melt</code>: do pacote <a href="https://cran.r-project.org/web/packages/reshape2/reshape2.pdf">reshape2</a>, permite que você agrupe várias colunas em função de outra coluna em comum, de acordo com o nome especificado</li>
</ul>
</div>
</div>
<div id="array" class="section level2">
<h2><span class="header-section-number">3.5</span> Array</h2>
<p>Ao contrário do vetor unidimensional, arrays permietm que você armazene dados em diversas dimensões, sendo todas com o mesmo comprimento.</p>
<p>Vamos dar uma olhada nos argumentos da função:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(array)</code></pre></div>
<pre><code>## function (data = NA, dim = length(data), dimnames = NULL) 
## NULL</code></pre>
<p>Dessa forma, é preciso “informar” ao R qual o número de dimensões que você quer no seu array:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> <span class="dv">0</span>, <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))
<span class="kw">class</span>(a)</code></pre></div>
<pre><code>## [1] &quot;matrix&quot;</code></pre>
<p>No caso acima, como só foram desiginadas duas dimensões, o array é igual a uma matriz.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> <span class="dv">0</span>, <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">1</span>))
<span class="kw">class</span>(a)</code></pre></div>
<pre><code>## [1] &quot;array&quot;</code></pre>
<p>Como dá pra ver acima, é possível armazenar diversos elementos em um array, como por exemplo as dimensões que utilizamos no dia-a-dia de modelos numéricos: espaço (x,y,z) e tempo (z). Dessa forma, podemos criar arrays a partir de vetores e armazená-los em diverssas dimensões.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vetor1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>)
vetor2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">12</span>,<span class="dv">14</span>,<span class="dv">16</span>,<span class="dv">18</span>,<span class="dv">20</span>,<span class="dv">22</span>,<span class="dv">24</span>)

a &lt;-<span class="st"> </span><span class="kw">array</span>(<span class="dt">data =</span> <span class="kw">c</span>(vetor1,vetor2), <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>))
<span class="kw">class</span>(a)</code></pre></div>
<pre><code>## [1] &quot;array&quot;</code></pre>
<p>Se você quiser, também é possível nomear as colunas e linhas do seu array:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">colunas &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;col1&quot;</span>, <span class="st">&quot;col2&quot;</span>, <span class="st">&quot;col3&quot;</span>)
linhas &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;lin1&quot;</span>, <span class="st">&quot;lin2&quot;</span>, <span class="st">&quot;lin3&quot;</span>)

<span class="kw">array</span>(<span class="dt">data =</span> <span class="kw">c</span>(vetor1, vetor2), <span class="dt">dim =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="dv">2</span>), <span class="dt">dimnames =</span> <span class="kw">list</span>(linhas, colunas))</code></pre></div>
<pre><code>## , , 1
## 
##      col1 col2 col3
## lin1    1    4   12
## lin2    2    5   14
## lin3    3   10   16
## 
## , , 2
## 
##      col1 col2 col3
## lin1   18   24    3
## lin2   20    1    4
## lin3   22    2    5</code></pre>
<p>Além disso, sempre que precisar acessar elementos do seu array é só especificar aas dimensões como para mostrar o elemento de um vetor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>] <span class="co">#(linha, coluna, matriz)</span></code></pre></div>
<pre><code>## [1] 24</code></pre>
<hr />
<p><span style="color:red"><strong>Exercício</strong>: Crie um array com 3 dimensões, contendo três linhas e 4 quatro colunas. Acesse o elemento da segunda linha e terceira coluna desse array. Não esqueça de verificar a classe desse objeto!</span></p>
<hr />
</div>
<div id="matrizes-e-a-funcao-matrix" class="section level2">
<h2><span class="header-section-number">3.6</span> Matrizes e a função <code>matrix</code></h2>
<p>Uma matriz é um array com duas dimensões, sendo necessário informar o número de colunas e linhas, mas não o de dimensões.</p>
<p>Assim como em arrays, só são permitidos elementos <strong>da mesma clase</strong>!</p>
<p>Argumentos da função <code>matrix</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">args</span>(matrix)</code></pre></div>
<pre><code>## function (data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL) 
## NULL</code></pre>
<p>Colocando dados em uma matriz:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m1 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span>(<span class="dv">4</span><span class="op">*</span><span class="dv">4</span>), <span class="dt">nrow =</span> <span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">4</span>)
<span class="kw">dim</span>(m1)</code></pre></div>
<pre><code>## [1] 4 4</code></pre>
<p>Por padrão, a opção “byrow” é igual a <strong>FALSE</strong>. Quando passamos para <strong>TRUE</strong>, é possível organizar os dados por linha.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">m2 &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">data =</span> <span class="dv">1</span><span class="op">:</span>(<span class="dv">4</span><span class="op">*</span><span class="dv">4</span>), <span class="dt">nrow =</span> <span class="dv">4</span>, <span class="dt">ncol =</span> <span class="dv">4</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</code></pre></div>
<hr />
<p><span style="color:red"><strong>Exercício</strong>: Construa uma matriz com três linhas que contenha os números de 1 a 9.</span></p>
<hr />
</div>
<div id="listas" class="section level2">
<h2><span class="header-section-number">3.7</span> Listas</h2>
<p>Já as listas permitem que você armazene qualquer tipo de variável básica, independente da classe. Dessa forma, podemos colocar numa lista: número, caracteres, argumentos lógicos, ou que você quiser:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">list</span>(<span class="kw">list</span>(<span class="kw">list</span>(<span class="kw">list</span>(<span class="dv">1</span>))))</code></pre></div>
<pre><code>## [[1]]
## [[1]][[1]]
## [[1]][[1]][[1]]
## [[1]][[1]][[1]][[1]]
## [1] 1</code></pre>
<p>Isso faz com que elas sejam bastante versáteis e sirvam para armazenar o que você precisar, mas elas só podem ter uma dimensão, como uma fila. Já os objetos armazenados dentro da lista não precisam ter a mesma dimensão.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">x &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="ot">TRUE</span>, <span class="dv">1</span> <span class="op">+</span><span class="st"> </span>4i)</code></pre></div>
<hr />
<p><span style="color:red"><strong>Exercício</strong>: Crie uma lista contendo um vetor, uma matriz e um data frame e acesse o segundo elemento dela.</span></p>
<p><span style="color:red">Para facilitar, já vamos te dar o data frame:</span></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_df &lt;-<span class="st"> </span>mtcars[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>,]</code></pre></div>
<hr />
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">3.8</span> Data Frames</h2>
<p>Os data frames são uma forma de armazenar seus dados em um formato parecido com uma planilha de excel. Você pode pensar em um data frame como uma matriz que armazena em cada coluna um dado diferente, ou como uma lista onde todos os elementos tem o mesmo comprimento.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">a =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)
<span class="kw">names</span>(df)</code></pre></div>
<pre><code>## [1] &quot;a&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(df)</code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mode</span>(df)</code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<p>É normalmente em um data frame que você importará os seus dados e vale saber como visualizar algumas informações básicas sobre ele direto no seu console. Para isso, vamos pegar como exemplo o conjunto <code>mtcars</code> da base de dados do R:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span>mtcars
<span class="kw">head</span>(df) <span class="co">#mostra as sete primeiras linhas do data frame</span></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>Para ver as últimas linhas do data frame basta usar a função <code>tail</code>. Já uma função muito útil é a <code>summary</code>, que apresenta um “resumo” dos seus dados, como média, mediana, mínimos e máximos para cada <strong>coluna</strong> do data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(df)</code></pre></div>
<pre><code>##       mpg             cyl             disp             hp       
##  Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0  
##  1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5  
##  Median :19.20   Median :6.000   Median :196.3   Median :123.0  
##  Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7  
##  3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0  
##  Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0  
##       drat             wt             qsec             vs        
##  Min.   :2.760   Min.   :1.513   Min.   :14.50   Min.   :0.0000  
##  1st Qu.:3.080   1st Qu.:2.581   1st Qu.:16.89   1st Qu.:0.0000  
##  Median :3.695   Median :3.325   Median :17.71   Median :0.0000  
##  Mean   :3.597   Mean   :3.217   Mean   :17.85   Mean   :0.4375  
##  3rd Qu.:3.920   3rd Qu.:3.610   3rd Qu.:18.90   3rd Qu.:1.0000  
##  Max.   :4.930   Max.   :5.424   Max.   :22.90   Max.   :1.0000  
##        am              gear            carb      
##  Min.   :0.0000   Min.   :3.000   Min.   :1.000  
##  1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
##  Median :0.0000   Median :4.000   Median :2.000  
##  Mean   :0.4062   Mean   :3.688   Mean   :2.812  
##  3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :1.0000   Max.   :5.000   Max.   :8.000</code></pre>
<p>Iremos trabalhar bastante com data frames daqui pra frente, eles se tornarão aliados muito poderosos.</p>
</div>
<div id="tempo-e-data" class="section level2">
<h2><span class="header-section-number">3.9</span> Tempo e Data</h2>
<p>O R trabalha com três classe de tempo: <code>POSIXct</code>, <code>POSIXlt</code> e <code>Date</code>, sendo que <code>POSIXct</code> se refere ao número de segundos desde o início de 1970 no modo UTC, enquanto que <code>POSIXct</code> armazena as datas como uma lista, contendo segundos, minutos, horas, dias, meses, etc.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">ISOdate</span>(<span class="dt">year =</span> <span class="dv">2018</span>, <span class="dt">month =</span> <span class="dv">4</span>, <span class="dt">day =</span> <span class="dv">5</span>)
<span class="kw">class</span>(a)</code></pre></div>
<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">b &lt;-<span class="st"> </span><span class="kw">ISOdate</span>(<span class="dt">year =</span> <span class="dv">2018</span>, <span class="dt">month =</span> <span class="dv">4</span>, <span class="dt">day =</span> <span class="dv">5</span>, <span class="dt">tz =</span> <span class="st">&quot;Americas/Sao_Paulo&quot;</span>)</code></pre></div>
<p>Já a classe <code>Date</code>, armazena as datas como o número de dias contados a partir de 1970.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">c &lt;-<span class="st"> </span><span class="kw">as.Date</span>(<span class="kw">Sys.time</span>())
<span class="kw">class</span>(c)</code></pre></div>
<pre><code>## [1] &quot;Date&quot;</code></pre>
<p>Caso você precise, o pacote <a href="https://github.com/eddelbuettel/nanotime">nanotime</a> permite trabalhar com nano segundos.</p>
<p>Também é possível fazer sequências:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">hoje &lt;-<span class="st"> </span><span class="kw">Sys.time</span>()
a &lt;-<span class="st"> </span><span class="kw">seq.POSIXt</span>(<span class="dt">from =</span> hoje, <span class="dt">by =</span> <span class="dv">3600</span>, <span class="dt">length.out =</span> <span class="dv">24</span>)</code></pre></div>
<p>Funções úteis: <code>weekdays</code>, <code>month</code> e <a href="https://en.wikipedia.org/wiki/Julian_day"><code>julian</code></a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">weekdays</span>(a)</code></pre></div>
<pre><code>##  [1] &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot;
##  [8] &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot;
## [15] &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot; &quot;segunda&quot;
## [22] &quot;segunda&quot; &quot;segunda&quot; &quot;terça&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">months</span>(a)</code></pre></div>
<pre><code>##  [1] &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot;
##  [9] &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot;
## [17] &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot; &quot;junho&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">julian</span>(a) <span class="co">#dia Juliano</span></code></pre></div>
<pre><code>## Time differences in days
##  [1] 17686.19 17686.23 17686.27 17686.31 17686.36 17686.40 17686.44
##  [8] 17686.48 17686.52 17686.56 17686.61 17686.65 17686.69 17686.73
## [15] 17686.77 17686.81 17686.86 17686.90 17686.94 17686.98 17687.02
## [22] 17687.06 17687.11 17687.15
## attr(,&quot;origin&quot;)
## [1] &quot;1970-01-01 GMT&quot;</code></pre>
<p>O formato <code>POSIXct</code> é o mais comumente usado principalmente se os dados analisados serão plotados.</p>
</div>
<div id="fatores" class="section level2">
<h2><span class="header-section-number">3.10</span> Fatores</h2>
<p>Os <code>factors</code> podem ser um pouco infernais. Dê uma olhada em <a href="http://www.burns-stat.com/documents/books/the-r-inferno/">R INFERNO</a>.<br />
Usados em análise estatísica, fatores são usados para armazenar variáveis categóricas, ou seja, é uma variável que pode pertencer a um número limitado de categorias, como por exemplo, dias da semana. Já uma variável contínua pode assumir um um número infinito de valores.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">a &lt;-<span class="st"> </span><span class="kw">seq.POSIXt</span>(<span class="dt">from =</span> hoje , <span class="dt">by =</span> <span class="dv">3600</span>, <span class="dt">length.out =</span> <span class="dv">24</span><span class="op">*</span><span class="dv">7</span>)
aa &lt;-<span class="st"> </span><span class="kw">weekdays</span>(a)
<span class="kw">class</span>(aa)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">factor</span>(aa)</code></pre></div>
<pre><code>##   [1] segunda segunda segunda segunda segunda segunda segunda segunda
##   [9] segunda segunda segunda segunda segunda segunda segunda segunda
##  [17] segunda segunda segunda segunda segunda segunda segunda terça  
##  [25] terça   terça   terça   terça   terça   terça   terça   terça  
##  [33] terça   terça   terça   terça   terça   terça   terça   terça  
##  [41] terça   terça   terça   terça   terça   terça   terça   quarta 
##  [49] quarta  quarta  quarta  quarta  quarta  quarta  quarta  quarta 
##  [57] quarta  quarta  quarta  quarta  quarta  quarta  quarta  quarta 
##  [65] quarta  quarta  quarta  quarta  quarta  quarta  quarta  quinta 
##  [73] quinta  quinta  quinta  quinta  quinta  quinta  quinta  quinta 
##  [81] quinta  quinta  quinta  quinta  quinta  quinta  quinta  quinta 
##  [89] quinta  quinta  quinta  quinta  quinta  quinta  quinta  sexta  
##  [97] sexta   sexta   sexta   sexta   sexta   sexta   sexta   sexta  
## [105] sexta   sexta   sexta   sexta   sexta   sexta   sexta   sexta  
## [113] sexta   sexta   sexta   sexta   sexta   sexta   sexta   sábado 
## [121] sábado  sábado  sábado  sábado  sábado  sábado  sábado  sábado 
## [129] sábado  sábado  sábado  sábado  sábado  sábado  sábado  sábado 
## [137] sábado  sábado  sábado  sábado  sábado  sábado  sábado  domingo
## [145] domingo domingo domingo domingo domingo domingo domingo domingo
## [153] domingo domingo domingo domingo domingo domingo domingo domingo
## [161] domingo domingo domingo domingo domingo domingo domingo segunda
## Levels: domingo quarta quinta sábado segunda sexta terça</code></pre>
<p>São muito úteis para regressões, gráficos e resumos estatísitcos, uma vez que limita o número de possibilidades para a qual o dado pertença. Além disso, é possível estabelecer “níveis” que vão designar a categoria do seu dado.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ab &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="dt">x =</span> aa,
             <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>,  <span class="st">&quot;Wednesday&quot;</span>,  <span class="st">&quot;Thursday&quot;</span>,
                        <span class="st">&quot;Friday&quot;</span>, <span class="st">&quot;Saturday&quot;</span>, <span class="st">&quot;Sunday&quot;</span>))
<span class="kw">levels</span>(ab)</code></pre></div>
<pre><code>## [1] &quot;Monday&quot;    &quot;Tuesday&quot;   &quot;Wednesday&quot; &quot;Thursday&quot;  &quot;Friday&quot;    &quot;Saturday&quot; 
## [7] &quot;Sunday&quot;</code></pre>
<hr />
<p><span style="color:red"><strong>Exercício</strong>: Converta o vetor abaixo em um fator e mostre os seus níveis</span></p>
<p><code>genero &lt;- c(&quot;Masculino&quot;, &quot;Masculino&quot;, &quot;Feminino&quot;, &quot;Masculino&quot;, &quot;Feminino&quot;, &quot;Feminino&quot;)</code></p>
<hr />
<p>Se tudo pareceu muito corrido, não se preocupe, todos esses conceitos serão praticados mais adiante!</p>

<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#-- Opção para deixar possível visualizar erros</span>
knitr<span class="op">::</span>opts_chunk<span class="op">$</span><span class="kw">set</span>(<span class="dt">error =</span> <span class="ot">TRUE</span>)</code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="importando-e-exportando-dados.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/iagdevs/cursoR/edit/master/02-basicr.Rmd",
"text": "Edit"
},
"download": ["cursoR.pdf", "cursoR.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
